<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.schedule.app.repository.ScheduleCreateMapper">
    
    <select id="createDefaultSchedule" resultType="int">
        INSERT INTO default_schedule (
            user_id,
            start_time,
            end_time,
            start_date,
            end_date,
            work_type_id
        ) VALUES (
            #{userId},
            #{startTime},
            #{endTime},
            #{startDate},
            #{endDate},
            #{workTypeId}
        )
        RETURNING id
    </select>

    <select id="createRegularSchedule" resultType="int">
        INSERT INTO regular_schedule (
            user_id,
            start_time,
            end_time,
            start_date,
            end_date,
            days_of_week,
            work_type_id
        ) VALUES (
            #{userId},
            #{startTime},
            #{endTime},
            #{startDate},
            #{endDate},
            CAST(#{dayOfWeek} AS day_of_week),
            #{workTypeId}
        )
        RETURNING id
    </select>

    <select id="createIrregularSchedule" resultType="int">
        INSERT INTO irregular_schedule (
            user_id,
            date,
            start_time,
            end_time,
            work_type_id
        ) VALUES (
            #{userId},
            #{date},
            #{startTime},
            #{endTime},
            #{workTypeId}
        )
        RETURNING id
    </select>
</mapper>